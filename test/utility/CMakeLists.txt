INCLUDE_DIRECTORIES(
  ${CMAKE_SOURCE_DIR}/libCERTI 
  ${CMAKE_SOURCE_DIR}/libHLA
  )

find_library(RT_LIBRARY rt)
ADD_EXECUTABLE(CertiProcessus_A Main_SocketSHM.cc SharedStruct.hh)

TARGET_LINK_LIBRARIES(CertiProcessus_A CERTI HLA)
IF(RT_LIBRARY)
  TARGET_LINK_LIBRARIES(CertiProcessus_A ${RT_LIBRARY})
ENDIF(RT_LIBRARY)

SET_TARGET_PROPERTIES(CertiProcessus_A PROPERTIES COMPILE_FLAGS -DSIDE_SC)

ADD_EXECUTABLE(CertiProcessus_B Main_SocketSHM.cc SharedStruct.hh)

TARGET_LINK_LIBRARIES(CertiProcessus_B CERTI HLA)
IF(RT_LIBRARY)
    TARGET_LINK_LIBRARIES(CertiProcessus_B ${RT_LIBRARY})
ENDIF(RT_LIBRARY)

SET_TARGET_PROPERTIES(CertiProcessus_B PROPERTIES COMPILE_FLAGS -DSIDE_CS)

INSTALL(TARGETS CertiProcessus_A CertiProcessus_B
    RUNTIME DESTINATION bin
    LIBRARY DESTINATION lib
    ARCHIVE DESTINATION lib)
